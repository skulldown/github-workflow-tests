name: jira-lint
on: [pull_request]

jobs:
  jira-lint:
    runs-on: ubuntu-latest
    steps:
      - name: print-vars
        run: echo ${{ env.GITHUB_TOKEN }}
        env:
          GITHUB_TOKEN: ${{secrets.IH_JIRA_API_SECRET_YM}}
      # - uses: skulldown/jira-lint@v1.1
      - uses: invitation-homes/jira-lint@v1.0.0
        name: jira-lint
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          jira-token: ${{ secrets.IH_JIRA_API_SECRET_YM }}
          jira-base-url: https://invitationhomes.atlassian.net
          skip-comments: true
          pr-threshold: 1000
    # - uses: actions/checkout@v2
    # - uses: actions/setup-python@v1
    #   name: Set up Python 3.8
    #   with:
    #       python-version: 3.8
    # - name: Linting
    #   run: |
    #     pip install pre-commit
    #     pre-commit run --all-files
    #   with:
    #     github-token: ${{ secrets.GITHUB_TOKEN }}
    #     jira-token: ${{ secrets.IH_JIRA_API_SECRET_YM }}
    #     jira-base-url: https://invitationhomes.atlassian.net
    #     skip-comments: true
